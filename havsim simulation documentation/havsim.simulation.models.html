<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module havsim.simulation.models</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong><a href="havsim.html"><font color="#ffffff">havsim</font></a>.<a href="havsim.simulation.html"><font color="#ffffff">simulation</font></a>.models</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:c%3A%5Cusers%5Crlk268%5Conedrive%20-%20cornell%20university%5Chav-sim%5Chavsim%5Csimulation%5Cmodels.py">c:\users\rlk268\onedrive - cornell university\hav-sim\havsim\simulation\models.py</a></font></td></tr></table>
    <p><tt>Houses&nbsp;all&nbsp;the&nbsp;different&nbsp;models&nbsp;for&nbsp;simulation.</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="math.html">math</a><br>
</td><td width="25%" valign=top><a href="numpy.html">numpy</a><br>
</td><td width="25%" valign=top></td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-IDM"><strong>IDM</strong></a>(p, state)</dt><dd><tt>Intelligent&nbsp;Driver&nbsp;Model&nbsp;(IDM),&nbsp;second&nbsp;order&nbsp;ODE.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;p:&nbsp;parameters&nbsp;-&nbsp;[max&nbsp;speed,&nbsp;comfortable&nbsp;time&nbsp;headway,&nbsp;jam&nbsp;spacing,&nbsp;max&nbsp;comfortable&nbsp;acceleration,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emergency&nbsp;acceleration]<br>
&nbsp;&nbsp;&nbsp;&nbsp;state:&nbsp;list&nbsp;of&nbsp;[headway,&nbsp;self&nbsp;velocity,&nbsp;leader&nbsp;velocity]<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;acceleration</tt></dd></dl>
 <dl><dt><a name="-IDM_eql"><strong>IDM_eql</strong></a>(p, v)</dt><dd><tt>Equilibrium&nbsp;solution&nbsp;for&nbsp;IDM,&nbsp;v&nbsp;=&nbsp;velocity,&nbsp;p&nbsp;=&nbsp;parameters.&nbsp;Returns&nbsp;headway&nbsp;corresponding&nbsp;to&nbsp;eql.</tt></dd></dl>
 <dl><dt><a name="-IDM_free"><strong>IDM_free</strong></a>(p, state)</dt><dd><tt>Free&nbsp;flow&nbsp;model&nbsp;for&nbsp;IDM,&nbsp;state&nbsp;=&nbsp;self&nbsp;velocity,&nbsp;p&nbsp;=&nbsp;parameters.&nbsp;Returns&nbsp;acceleration.</tt></dd></dl>
 <dl><dt><a name="-IDM_parameters"><strong>IDM_parameters</strong></a>(*args)</dt><dd><tt>Suggested&nbsp;parameters&nbsp;for&nbsp;the&nbsp;IDM/MOBIL.</tt></dd></dl>
 <dl><dt><a name="-IDM_shift_eql"><strong>IDM_shift_eql</strong></a>(p, v, shift_parameters, state)</dt><dd><tt>Calculates&nbsp;an&nbsp;acceleration&nbsp;which&nbsp;shifts&nbsp;the&nbsp;equilibrium&nbsp;solution&nbsp;for&nbsp;IDM.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;p:&nbsp;parameters<br>
&nbsp;&nbsp;&nbsp;&nbsp;v:&nbsp;velocity<br>
&nbsp;&nbsp;&nbsp;&nbsp;shift_parameters:&nbsp;list&nbsp;of&nbsp;two&nbsp;parameters,&nbsp;0&nbsp;index&nbsp;is&nbsp;'decel'&nbsp;which&nbsp;is&nbsp;&gt;&nbsp;1,&nbsp;1&nbsp;index&nbsp;is&nbsp;'accel'&nbsp;which<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;&lt;&nbsp;1.&nbsp;Equilibrium&nbsp;goes&nbsp;to&nbsp;n*s,&nbsp;where&nbsp;s&nbsp;is&nbsp;the&nbsp;old&nbsp;equilibrium,&nbsp;and&nbsp;n&nbsp;is&nbsp;the&nbsp;parameter.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E.g.&nbsp;shift_parameters&nbsp;=&nbsp;[2,&nbsp;.4],&nbsp;if&nbsp;state&nbsp;=&nbsp;'decel'&nbsp;we&nbsp;return&nbsp;an&nbsp;acceleration&nbsp;which&nbsp;makes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;equilibrium&nbsp;goes&nbsp;to&nbsp;2&nbsp;times&nbsp;its&nbsp;normal&nbsp;distance.<br>
&nbsp;&nbsp;&nbsp;&nbsp;state:&nbsp;one&nbsp;of&nbsp;'decel'&nbsp;if&nbsp;we&nbsp;want&nbsp;equilibrium&nbsp;headway&nbsp;to&nbsp;increase,&nbsp;'accel'&nbsp;if&nbsp;we&nbsp;want&nbsp;it&nbsp;to&nbsp;decrease.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;acceleration&nbsp;which&nbsp;shifts&nbsp;the&nbsp;equilibrium</tt></dd></dl>
 <dl><dt><a name="-coop_tact_model"><strong>coop_tact_model</strong></a>(veh, newhd, newlcsidefolhd, lcsidefolsafe, selfsafe, side, lctype, use_coop=True, use_tact=True)</dt><dd><tt>Cooperative&nbsp;and&nbsp;tactical&nbsp;model&nbsp;for&nbsp;a&nbsp;lane&nbsp;changing&nbsp;decision&nbsp;model.<br>
&nbsp;<br>
Explanation&nbsp;of&nbsp;model&nbsp;-<br>
first&nbsp;we&nbsp;assume&nbsp;that&nbsp;we&nbsp;can&nbsp;give&nbsp;vehicles&nbsp;one&nbsp;of&nbsp;two&nbsp;commands&nbsp;-&nbsp;accelerate&nbsp;or&nbsp;decelerate.<br>
there&nbsp;are&nbsp;three&nbsp;possible&nbsp;options&nbsp;-&nbsp;cooperation&nbsp;and&nbsp;tactical,&nbsp;or&nbsp;only&nbsp;cooperation,&nbsp;or&nbsp;only&nbsp;tactical<br>
&nbsp;<br>
In&nbsp;the&nbsp;tactical&nbsp;model,&nbsp;first&nbsp;we&nbsp;check&nbsp;the&nbsp;safety&nbsp;conditions&nbsp;to&nbsp;see&nbsp;what&nbsp;is&nbsp;preventing&nbsp;us&nbsp;from<br>
changing&nbsp;(either&nbsp;lcside&nbsp;fol&nbsp;or&nbsp;lcside&nbsp;lead).&nbsp;if&nbsp;both&nbsp;are&nbsp;violating&nbsp;safety,&nbsp;and&nbsp;the&nbsp;lcside&nbsp;leader&nbsp;is<br>
faster&nbsp;than&nbsp;vehicle,&nbsp;then&nbsp;the&nbsp;vehicle&nbsp;gets&nbsp;deceleration&nbsp;to&nbsp;try&nbsp;to&nbsp;change&nbsp;behind&nbsp;them.&nbsp;If&nbsp;vehicle&nbsp;is<br>
faster&nbsp;than&nbsp;lcside&nbsp;leader,&nbsp;then&nbsp;the&nbsp;vehicle&nbsp;gets&nbsp;acceleration&nbsp;to&nbsp;try&nbsp;to&nbsp;overtake.&nbsp;if&nbsp;only&nbsp;one&nbsp;is<br>
violating&nbsp;safety,&nbsp;the&nbsp;vehicle&nbsp;moves&nbsp;in&nbsp;a&nbsp;way&nbsp;to&nbsp;prevent&nbsp;that&nbsp;violation.&nbsp;Meaning&nbsp;-<br>
if&nbsp;only&nbsp;the&nbsp;follower's&nbsp;safety&nbsp;is&nbsp;violated,&nbsp;the&nbsp;vehicle&nbsp;accelerates<br>
if&nbsp;the&nbsp;vehicle's&nbsp;own&nbsp;safety&nbsp;is&nbsp;violated;&nbsp;the&nbsp;vehicle&nbsp;decelerates<br>
the&nbsp;tactical&nbsp;model&nbsp;only&nbsp;modifies&nbsp;the&nbsp;acceleration&nbsp;of&nbsp;veh.<br>
&nbsp;<br>
in&nbsp;the&nbsp;cooperative&nbsp;model,&nbsp;we&nbsp;try&nbsp;to&nbsp;identify&nbsp;a&nbsp;cooperating&nbsp;vehicle.&nbsp;a&nbsp;cooperating&nbsp;vehicle&nbsp;always&nbsp;gets&nbsp;a<br>
deceleration&nbsp;added&nbsp;so&nbsp;that&nbsp;it&nbsp;will&nbsp;give&nbsp;extra&nbsp;space.<br>
If&nbsp;the&nbsp;cooperation&nbsp;is&nbsp;applied&nbsp;without&nbsp;tactical,&nbsp;then&nbsp;the&nbsp;cooperating&nbsp;vehicle&nbsp;must&nbsp;be&nbsp;the&nbsp;lcside&nbsp;follower,<br>
and&nbsp;the&nbsp;newlcsidefolhd&nbsp;must&nbsp;be&nbsp;&gt;&nbsp;0.<br>
if&nbsp;cooperation&nbsp;is&nbsp;applied&nbsp;with&nbsp;tactical,&nbsp;then&nbsp;in&nbsp;addition&nbsp;to&nbsp;the&nbsp;above,&nbsp;it's&nbsp;also&nbsp;possible&nbsp;the<br>
cooperating&nbsp;vehicle&nbsp;is&nbsp;the&nbsp;lcside&nbsp;follower's&nbsp;follower,&nbsp;where&nbsp;additionally&nbsp;the&nbsp;newlcsidefolhd&nbsp;is&nbsp;&lt;&nbsp;0.<br>
Note&nbsp;that&nbsp;in&nbsp;this&nbsp;second&nbsp;case,&nbsp;the&nbsp;lcside&nbsp;follower&nbsp;is&nbsp;directly&nbsp;to&nbsp;the&nbsp;side&nbsp;of&nbsp;vehicle,&nbsp;and&nbsp;that&nbsp;is&nbsp;why<br>
this&nbsp;case&nbsp;is&nbsp;distinct.<br>
In&nbsp;the&nbsp;first&nbsp;case&nbsp;where&nbsp;the&nbsp;cooperating&nbsp;vehicle&nbsp;is&nbsp;the&nbsp;lcside&nbsp;follower,&nbsp;the&nbsp;tactical&nbsp;model&nbsp;is&nbsp;applied<br>
as&nbsp;normal.<br>
In&nbsp;the&nbsp;second&nbsp;case,&nbsp;since&nbsp;the&nbsp;issue&nbsp;is&nbsp;the&nbsp;the&nbsp;lcside&nbsp;follower&nbsp;is&nbsp;directly&nbsp;blocking&nbsp;the&nbsp;vehicle,<br>
the&nbsp;vehicle&nbsp;accelerates&nbsp;if&nbsp;the&nbsp;lcside&nbsp;follower&nbsp;has&nbsp;a&nbsp;slower&nbsp;speed&nbsp;than&nbsp;vehicle,&nbsp;and&nbsp;decelerates&nbsp;otherwise.<br>
&nbsp;<br>
when&nbsp;a&nbsp;vehicle&nbsp;requests&nbsp;cooperation,&nbsp;it&nbsp;has&nbsp;to&nbsp;additionally&nbsp;fulfill&nbsp;a&nbsp;condition&nbsp;which&nbsp;simulates<br>
the&nbsp;choice&nbsp;of&nbsp;the&nbsp;cooperating&nbsp;vehicle.&nbsp;All&nbsp;vehicles&nbsp;have&nbsp;a&nbsp;innate&nbsp;probability&nbsp;(coop_parameters&nbsp;attribute)<br>
of&nbsp;cooperating,&nbsp;and&nbsp;for&nbsp;a&nbsp;discretionary&nbsp;LC,&nbsp;this&nbsp;innate&nbsp;probability&nbsp;controls&nbsp;whether&nbsp;or&nbsp;not&nbsp;the<br>
cooperation&nbsp;is&nbsp;accepted.<br>
For&nbsp;a&nbsp;mandatory&nbsp;LC,&nbsp;vehicle&nbsp;can&nbsp;add&nbsp;to&nbsp;this&nbsp;probability,&nbsp;which&nbsp;simulates&nbsp;forcing&nbsp;the&nbsp;cooperation.<br>
vehicles&nbsp;have&nbsp;a&nbsp;lc_urgency&nbsp;attribute&nbsp;which&nbsp;is&nbsp;updated&nbsp;upon&nbsp;initiating&nbsp;a&nbsp;mandatory&nbsp;change.&nbsp;lc_urgency&nbsp;is&nbsp;a<br>
tuple&nbsp;of&nbsp;two&nbsp;positions,&nbsp;at&nbsp;the&nbsp;first&nbsp;position,&nbsp;only&nbsp;the&nbsp;follower's&nbsp;innate&nbsp;cooperation&nbsp;probability<br>
is&nbsp;used.&nbsp;at&nbsp;the&nbsp;second&nbsp;position,&nbsp;the&nbsp;follower&nbsp;is&nbsp;always&nbsp;forced&nbsp;to&nbsp;cooperate,&nbsp;even&nbsp;if&nbsp;it&nbsp;has&nbsp;0<br>
innate&nbsp;cooperation&nbsp;probability,&nbsp;and&nbsp;the&nbsp;additional&nbsp;cooperation&nbsp;probability&nbsp;is&nbsp;interpolated&nbsp;linearally<br>
between&nbsp;these&nbsp;two&nbsp;positions.<br>
&nbsp;<br>
Implementation&nbsp;details&nbsp;-<br>
when&nbsp;a&nbsp;vehicle&nbsp;has&nbsp;cooperation&nbsp;or&nbsp;tactical&nbsp;components&nbsp;applied,&nbsp;it&nbsp;has&nbsp;a&nbsp;lc_side&nbsp;attribute&nbsp;which&nbsp;is<br>
set&nbsp;to&nbsp;either&nbsp;'l'&nbsp;or&nbsp;'r'&nbsp;instead&nbsp;of&nbsp;None.&nbsp;This&nbsp;marks&nbsp;the&nbsp;vehicle&nbsp;as&nbsp;having&nbsp;the&nbsp;coop/tact&nbsp;added,&nbsp;and<br>
will&nbsp;make&nbsp;it&nbsp;so&nbsp;the&nbsp;vehicle&nbsp;attempts&nbsp;to&nbsp;complete&nbsp;the&nbsp;LC&nbsp;at&nbsp;every&nbsp;timestep&nbsp;even&nbsp;if&nbsp;its&nbsp;only&nbsp;a&nbsp;discretionary<br>
change.&nbsp;vehicles&nbsp;also&nbsp;have&nbsp;a&nbsp;coop_veh&nbsp;attribute&nbsp;which&nbsp;stores&nbsp;the&nbsp;cooperating&nbsp;vehicle.&nbsp;A&nbsp;cooperating<br>
vehicle&nbsp;does&nbsp;not&nbsp;have&nbsp;any&nbsp;attribute&nbsp;marking&nbsp;it&nbsp;as&nbsp;such.<br>
the&nbsp;lc_urgency&nbsp;attribute&nbsp;needs&nbsp;to&nbsp;be&nbsp;set&nbsp;whenever&nbsp;a&nbsp;mandatory&nbsp;route&nbsp;event&nbsp;begins.&nbsp;the&nbsp;lc_side,&nbsp;coop_veh,<br>
and&nbsp;lc_urgency&nbsp;attributes&nbsp;need&nbsp;to&nbsp;be&nbsp;reset&nbsp;to&nbsp;None&nbsp;whenever&nbsp;the&nbsp;change&nbsp;is&nbsp;completed.<br>
in&nbsp;the&nbsp;road&nbsp;event&nbsp;where&nbsp;a&nbsp;lane&nbsp;ends&nbsp;on&nbsp;the&nbsp;side&nbsp;==&nbsp;lc_side,&nbsp;then&nbsp;lc_side&nbsp;and&nbsp;coop_veh&nbsp;need&nbsp;to&nbsp;be&nbsp;reset.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;veh:&nbsp;vehicle&nbsp;which&nbsp;wants&nbsp;to&nbsp;change&nbsp;lanes<br>
&nbsp;&nbsp;&nbsp;&nbsp;newhd:&nbsp;new&nbsp;headway&nbsp;of&nbsp;vehicle&nbsp;after&nbsp;potential&nbsp;lane&nbsp;change<br>
&nbsp;&nbsp;&nbsp;&nbsp;newlcsidefolhd:&nbsp;new&nbsp;lcside&nbsp;follower&nbsp;headway<br>
&nbsp;&nbsp;&nbsp;&nbsp;lcsidefolsafe:&nbsp;acceleration&nbsp;for&nbsp;lcside&nbsp;follower,&nbsp;used&nbsp;to&nbsp;check&nbsp;safety&nbsp;condition&nbsp;against<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;veh.lc_parameters[0]<br>
&nbsp;&nbsp;&nbsp;&nbsp;selfsafe:&nbsp;acceleration&nbsp;for&nbsp;vehicle,&nbsp;used&nbsp;to&nbsp;check&nbsp;safety&nbsp;condition<br>
&nbsp;&nbsp;&nbsp;&nbsp;side:&nbsp;either&nbsp;'l'&nbsp;or&nbsp;'r',&nbsp;side&nbsp;vehicle&nbsp;wants&nbsp;to&nbsp;change<br>
&nbsp;&nbsp;&nbsp;&nbsp;lctype:either&nbsp;'discretionary'&nbsp;or&nbsp;'mandatory'<br>
&nbsp;&nbsp;&nbsp;&nbsp;use_coop:&nbsp;bool,&nbsp;whether&nbsp;to&nbsp;apply&nbsp;cooperation&nbsp;model.&nbsp;if&nbsp;use_coop&nbsp;and&nbsp;use_tact&nbsp;are&nbsp;both&nbsp;False,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this&nbsp;function&nbsp;does&nbsp;nothing.<br>
&nbsp;&nbsp;&nbsp;&nbsp;use_tact:&nbsp;bool,&nbsp;whether&nbsp;to&nbsp;apply&nbsp;tactical&nbsp;model<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;(modifies&nbsp;veh,&nbsp;veh.coop_veh)</tt></dd></dl>
 <dl><dt><a name="-mobil"><strong>mobil</strong></a>(veh, lc_actions, lside, rside, newlfolhd, newlhd, newrfolhd, newrhd, newfolhd, timeind, dt, userelax_cur=True, userelax_new=False, use_coop=True, use_tact=True)</dt><dd><tt>Minimizing&nbsp;total&nbsp;braking&nbsp;during&nbsp;lane&nbsp;change&nbsp;(MOBIL)&nbsp;lane&nbsp;changing&nbsp;decision&nbsp;model.<br>
&nbsp;<br>
parameters&nbsp;-&nbsp;[safety&nbsp;criteria&nbsp;(maximum&nbsp;deceleration&nbsp;allowed&nbsp;after&nbsp;LC,&nbsp;more&nbsp;negative&nbsp;=&nbsp;less&nbsp;strict),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;incentive&nbsp;criteria&nbsp;(&gt;0,&nbsp;larger&nbsp;=&nbsp;more&nbsp;strict.&nbsp;smaller&nbsp;=&nbsp;discretionary&nbsp;changes&nbsp;more&nbsp;likely),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;politeness&nbsp;(taking&nbsp;other&nbsp;vehicles&nbsp;into&nbsp;account,&nbsp;0&nbsp;=&nbsp;ignore&nbsp;other&nbsp;vehicles,&nbsp;~.2&nbsp;=&nbsp;realistic),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bias&nbsp;on&nbsp;left&nbsp;side&nbsp;(can&nbsp;add&nbsp;a&nbsp;bias&nbsp;to&nbsp;make&nbsp;vehicles&nbsp;default&nbsp;to&nbsp;a&nbsp;certain&nbsp;side&nbsp;of&nbsp;the&nbsp;road),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bias&nbsp;on&nbsp;right&nbsp;side,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;probability&nbsp;of&nbsp;checking&nbsp;LC&nbsp;while&nbsp;in&nbsp;discretionary&nbsp;state&nbsp;(not&nbsp;in&nbsp;original&nbsp;model.&nbsp;set&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1/dt&nbsp;to&nbsp;always&nbsp;check&nbsp;discretionary.&nbsp;probability&nbsp;of&nbsp;checking&nbsp;per&nbsp;1&nbsp;second)]<br>
naming&nbsp;convention&nbsp;-&nbsp;l/r&nbsp;=&nbsp;left/right&nbsp;respectively,&nbsp;current&nbsp;lane&nbsp;if&nbsp;no&nbsp;l/r<br>
new&nbsp;indicates&nbsp;that&nbsp;it&nbsp;would&nbsp;be&nbsp;the&nbsp;configuration&nbsp;after&nbsp;potential&nbsp;change<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;veh:&nbsp;ego&nbsp;vehicle<br>
&nbsp;&nbsp;&nbsp;&nbsp;lc_actions:&nbsp;dictionary&nbsp;where&nbsp;lane&nbsp;changing&nbsp;actions&nbsp;are&nbsp;stored,&nbsp;keys&nbsp;=&nbsp;vehicles,&nbsp;values&nbsp;=&nbsp;'l'&nbsp;or&nbsp;'r'<br>
&nbsp;&nbsp;&nbsp;&nbsp;lside:&nbsp;bool&nbsp;whether&nbsp;model&nbsp;evaluates&nbsp;a&nbsp;left&nbsp;lane&nbsp;change<br>
&nbsp;&nbsp;&nbsp;&nbsp;rside:&nbsp;bool&nbsp;whether&nbsp;model&nbsp;evaluates&nbsp;a&nbsp;right&nbsp;lane&nbsp;change<br>
&nbsp;&nbsp;&nbsp;&nbsp;newlfolhd:&nbsp;new&nbsp;left&nbsp;follower&nbsp;headway<br>
&nbsp;&nbsp;&nbsp;&nbsp;newlhd:&nbsp;new&nbsp;vehicle&nbsp;headway&nbsp;for&nbsp;left&nbsp;change<br>
&nbsp;&nbsp;&nbsp;&nbsp;newrfolhd:&nbsp;new&nbsp;right&nbsp;follower&nbsp;headway<br>
&nbsp;&nbsp;&nbsp;&nbsp;newrhd:&nbsp;new&nbsp;vehicle&nbsp;headway&nbsp;for&nbsp;right&nbsp;change<br>
&nbsp;&nbsp;&nbsp;&nbsp;newfolhd:&nbsp;new&nbsp;follower&nbsp;headway<br>
&nbsp;&nbsp;&nbsp;&nbsp;timeind:&nbsp;time&nbsp;index<br>
&nbsp;&nbsp;&nbsp;&nbsp;dt:&nbsp;time&nbsp;step<br>
&nbsp;&nbsp;&nbsp;&nbsp;userelax_cur:&nbsp;If&nbsp;True,&nbsp;we&nbsp;include&nbsp;relaxation&nbsp;in&nbsp;the&nbsp;evaluation&nbsp;of&nbsp;current&nbsp;acceleration,&nbsp;so&nbsp;that&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cf&nbsp;model&nbsp;is&nbsp;not&nbsp;reevaluated&nbsp;if&nbsp;vehicle&nbsp;is&nbsp;in&nbsp;relaxation.&nbsp;True&nbsp;is&nbsp;recommended<br>
&nbsp;&nbsp;&nbsp;&nbsp;userelax_new:&nbsp;If&nbsp;True,&nbsp;we&nbsp;include&nbsp;relaxation&nbsp;in&nbsp;the&nbsp;evaluation&nbsp;of&nbsp;the&nbsp;new&nbsp;acceleration.&nbsp;False&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recommended.<br>
&nbsp;&nbsp;&nbsp;&nbsp;use_coop:&nbsp;Controls&nbsp;whether&nbsp;cooperative&nbsp;model&nbsp;is&nbsp;applied&nbsp;(see&nbsp;coop_tact_model)<br>
&nbsp;&nbsp;&nbsp;&nbsp;use_tact:&nbsp;Controls&nbsp;whether&nbsp;tactical&nbsp;model&nbsp;is&nbsp;applied&nbsp;(see&nbsp;coop_tact_model)<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;None.&nbsp;(modifies&nbsp;lc_actions&nbsp;in&nbsp;place)</tt></dd></dl>
 <dl><dt><a name="-mobil_helper"><strong>mobil_helper</strong></a>(fol, curlead, newlead, newhd, timeind, dt, userelax_cur, userelax_new)</dt><dd><tt>Helper&nbsp;function&nbsp;for&nbsp;MOBIL&nbsp;computes&nbsp;new&nbsp;accelerations&nbsp;for&nbsp;fol&nbsp;after&nbsp;a&nbsp;potential&nbsp;lane&nbsp;change.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;fol:&nbsp;follower&nbsp;is&nbsp;assumed&nbsp;to&nbsp;follow&nbsp;curlead&nbsp;in&nbsp;the&nbsp;current&nbsp;configuration&nbsp;in&nbsp;new&nbsp;potential<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configuration&nbsp;it&nbsp;would&nbsp;follow&nbsp;newlead<br>
&nbsp;&nbsp;&nbsp;&nbsp;curlead:&nbsp;current&nbsp;leader&nbsp;for&nbsp;fol<br>
&nbsp;&nbsp;&nbsp;&nbsp;newlead:&nbsp;new&nbsp;leader&nbsp;for&nbsp;fol<br>
&nbsp;&nbsp;&nbsp;&nbsp;newhd:&nbsp;new&nbsp;headway&nbsp;for&nbsp;fol<br>
&nbsp;&nbsp;&nbsp;&nbsp;timeind:&nbsp;time&nbsp;index<br>
&nbsp;&nbsp;&nbsp;&nbsp;dt:&nbsp;time&nbsp;step<br>
&nbsp;&nbsp;&nbsp;&nbsp;userelax_cur:&nbsp;If&nbsp;True,&nbsp;apply&nbsp;relaxation&nbsp;in&nbsp;current&nbsp;acceleration.&nbsp;True&nbsp;recommended.<br>
&nbsp;&nbsp;&nbsp;&nbsp;userelax_new:&nbsp;If&nbsp;True,&nbsp;apply&nbsp;relaxation&nbsp;in&nbsp;new&nbsp;acceleration.&nbsp;False&nbsp;recommended.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;fola:&nbsp;The&nbsp;current&nbsp;acceleration&nbsp;for&nbsp;fol<br>
&nbsp;&nbsp;&nbsp;&nbsp;newfola:&nbsp;new&nbsp;acceleration&nbsp;for&nbsp;fol&nbsp;after&nbsp;the&nbsp;lane&nbsp;change</tt></dd></dl>
</td></tr></table>
</body></html>